11.2 消息可靠性如何保证（不丢消息）
我的设计和实现思路是这样的：


1） 应用层ACK；


2） 客户端需要超时与重传；


3） 服务端需要超时与重传，具体做法就是增加ack队列和定时器Timer；


4） 业务侧兜底保证，客户端拉消息通过一个本地的旧的序列号来拉取服务器的最新消息；


5） 为了保证消息必达，在线客户端还增加一个定时器，定时向服务端拉取消息，避免服务端向客户端发送拉取通知的包丢失导致客户端未及时拉取数据。

客户端存储一下当前消息的最后的id，然后大于这个条件的id去获取一下。